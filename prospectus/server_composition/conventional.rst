従来のサーバー
=============

提案するサーバーの構成について述べる前にまず従来のサーバーの構成について整理しておく。

現在(2017年7月時点)の人狼知能の公式ではTCP/IP通信のサーバーとJavaのクラスを直接読み込むサーバーが用意されている。

また非公式ではあるが、それら２つの機能を合わせたハイブリッドサーバーと呼ばれるものも存在している。

公式の大会ではTCP/IP通信のサーバーが使われている。

データの受送信にはJSON形式のパケットが送信され、サーバー/クライアント側でそれぞれそれらをパーサーしてサーバー側ではゲームの進行及びゲーム状況の変化にクライアント側ではメソッドの呼び出しに使われている。

従来のサーバー( :numref:`conventional_tcpserver` )では、ルールやプロトコルが分離されておらず、ゲームサーバーのコード中に直接書き込まれている。

.. figure:: TCPServer.eps
    :name: conventional_tcpserver

    TCP/IPサーバーの構成、従来のサーバーはどれもこの図で表したような方式になっている。

抽象化されているため流れを追うのは今は容易であるが、将来的にルールを変更したいといったときにもっと柔軟な書き方があるのではないかと考えている。

そのため、サーバーにルールやプロトコルをハードコーディングする形ではない方式での構成を考えている。

次の項では提案するサーバーの構成を解説する。